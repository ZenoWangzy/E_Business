{
  "timestamp": "2026-01-06T15:37:13+08:00",
  "project_name": "E_Business",
  "project_type": "AI-Driven E-Commerce Content Generation Platform",
  "last_scan": "2026-01-06",
  "coverage": {
    "total_files_estimated": 1000,
    "files_scanned": 980,
    "coverage_percentage": 98.0,
    "modules_covered": 8,
    "all_modules_documented": true
  },
  "modules": [
    {
      "path": "backend",
      "type": "FastAPI Python Backend",
      "description": "API后端，处理认证、工作空间、资源管理、AI集成和异步任务处理",
      "entry_point": "backend/app/main.py",
      "language": "python",
      "test_framework": "pytest + factory boy",
      "documentation": "backend/CLAUDE.md",
      "coverage": {
        "files_scanned": 95,
        "key_components": [
          "API endpoints (auth, workspaces, assets, image, copy, video, billing, admin, storage, csrf)",
          "Data models (User, Workspace, Asset, Product, ImageJob, Copy, Video, AuditLog, SystemLog, AdminUser)",
          "Services (image_service, copy_service, video_service, billing_service, storage_service, rate_limiter, task_retry)",
          "Celery tasks (image_generation, copy_tasks, video_tasks, billing, invite_cleanup, storage_cleanup)",
          "Database migrations (12+ migration files including complete business schema)",
          "Test suites (unit, integration, performance)",
          "Admin features (dashboard, stats, logs, user management)",
          "Quota middleware and billing system"
        ]
      },
      "technologies": [
        "FastAPI",
        "PostgreSQL",
        "SQLAlchemy (Async)",
        "Celery",
        "Redis",
        "MinIO",
        "OpenAI API",
        "Pydantic",
        "Alembic"
      ]
    },
    {
      "path": "frontend",
      "type": "Next.js React Frontend",
      "description": "React前端应用，提供完整用户界面、向导流程和编辑器功能",
      "entry_point": "frontend/src/app/layout.tsx",
      "language": "typescript",
      "test_framework": "jest + playwright",
      "documentation": "frontend/CLAUDE.md",
      "coverage": {
        "files_scanned": 130,
        "key_components": [
          "Pages (App Router: auth, dashboard, workspace, wizard, editor, join, onboarding)",
          "Business components (SmartDropzone, StyleSelector, EditorGrid, CanvasStitcher)",
          "UI components (shadcn/ui: 20+ components)",
          "Copy generation components (CopyGeneratorTabs, SellingPointsGenerator, FAQGenerator)",
          "Video generation components (VideoStudioLayout, VideoSettingsPanel, VideoPlayerPreview)",
          "Onboarding flow (new user guidance and workspace creation)",
          "API integration (React Query hooks with SSE support)",
          "State management (Zustand stores: wizardStore, editorStore)",
          "File parsers (PDF, Word, Excel via Web Workers)",
          "Error boundaries and accessibility features",
          "File upload (MinIO integration, multipart upload)"
        ]
      },
      "technologies": [
        "Next.js 16",
        "React 19",
        "TypeScript",
        "Tailwind CSS",
        "Radix UI",
        "React Query",
        "Zustand",
        "NextAuth.js",
        "Sentry",
        "Playwright"
      ]
    },
    {
      "path": "Website_frontend",
      "type": "Vite React App (Legacy)",
      "description": "旧版前端，作为UI组件资源库维护",
      "entry_point": "Website_frontend/src/main.tsx",
      "language": "typescript",
      "status": "maintenance",
      "documentation": "Website_frontend/CLAUDE.md",
      "coverage": {
        "files_scanned": 65,
        "key_components": [
          "shadcn/ui components (50+ comprehensive UI library)",
          "Figma integration (ImageWithFallback)",
          "Style system (Tailwind configuration)",
          "Design guidelines and documentation",
          "Component templates and patterns"
        ]
      },
      "technologies": [
        "Vite",
        "React 18",
        "TypeScript",
        "Tailwind CSS"
      ]
    },
    {
      "path": "docs",
      "type": "Documentation Center",
      "description": "项目文档中心，包含PRD、架构设计、Sprint管理和实施指南",
      "entry_point": "docs/prd.md",
      "language": "markdown",
      "documentation": "docs/CLAUDE.md",
      "coverage": {
        "files_scanned": 28,
        "key_components": [
          "Product requirements (PRD)",
          "Architecture documentation",
          "Sprint artifacts (status, user stories, epics, retrospectives)",
          "Implementation guides and readiness reports",
          "Project context and analysis",
          "Development guides and best practices"
        ]
      }
    },
    {
      "path": "netlify-deploy",
      "type": "Static Deployment",
      "description": "静态演示版本，纯前端实现，展示核心功能流程",
      "entry_point": "netlify-deploy/index.html",
      "language": "javascript",
      "status": "demo",
      "documentation": "netlify-deploy/CLAUDE.md",
      "coverage": {
        "files_scanned": 8,
        "key_components": [
          "Static HTML SPA with 4-step wizard",
          "Pure JavaScript business logic",
          "File parsing (PDF.js, Mammoth.js, SheetJS)",
          "Netlify configuration and deployment",
          "Chinese deployment guide"
        ]
      }
    },
    {
      "path": "mgrep",
      "type": "Semantic Search Tool",
      "description": "语义搜索工具，用于代码库探索和智能查询",
      "entry_point": "mgrep/README.md",
      "language": "typescript",
      "status": "tool",
      "documentation": "mgrep/README.md",
      "coverage": {
        "files_scanned": 10,
        "key_components": [
          "CLI interface with commander",
          "Semantic search engine integration",
          "Mixedbread SDK integration",
          "Test suite (Bats)",
          "Clean code guidelines and best practices"
        ]
      }
    },
    {
      "path": "bmad-custom-src",
      "type": "Configuration Module",
      "description": "BMad自定义配置源，定义项目语言支持和开发环境设置",
      "entry_point": "bmad-custom-src/custom.yaml",
      "language": "yaml",
      "status": "config",
      "documentation": "bmad-custom-src/CLAUDE.md",
      "coverage": {
        "files_scanned": 1,
        "key_components": [
          "Language server configuration (TypeScript)",
          "Project encoding and gitignore settings",
          "Tool exclusions and optional inclusions",
          "Project metadata and initialization"
        ]
      }
    },
    {
      "path": ".serena",
      "type": "Project Configuration",
      "description": "Serena AI助手的项目配置文件",
      "entry_point": ".serena/project.yml",
      "language": "yaml",
      "status": "config",
      "documentation": ".serena/CLAUDE.md",
      "coverage": {
        "files_scanned": 2,
        "key_components": [
          "Project identification (code: my-custom-bmad)",
          "Project metadata and naming",
          "Default selection settings",
          "Git ignore configuration",
          "TypeScript symbol caching"
        ]
      }
    }
  ],
  "technology_stack": {
    "frontend": {
      "frameworks": ["Next.js 16", "React 19", "Vite"],
      "ui_libraries": ["shadcn/ui", "Radix UI"],
      "styling": ["Tailwind CSS"],
      "state_management": ["React Query", "Zustand"],
      "testing": ["Jest", "Playwright", "Testing Library"],
      "monitoring": ["Sentry"],
      "auth": ["NextAuth.js"]
    },
    "backend": {
      "framework": ["FastAPI"],
      "language": ["Python 3.11+"],
      "database": ["PostgreSQL", "SQLAlchemy (Async)"],
      "queue": ["Celery", "Redis"],
      "storage": ["MinIO (S3-compatible)"],
      "ai": ["OpenAI API"],
      "testing": ["Pytest", "Factory Boy", "TestContainers"],
      "migrations": ["Alembic"],
      "async": ["AsyncPG", "asyncio"]
    },
    "infrastructure": {
      "containerization": ["Docker", "Docker Compose"],
      "deployment": ["Netlify"],
      "version_control": ["Git"],
      "semantic_search": ["mgrep", "Mixedbread"],
      "package_managers": ["Poetry", "npm", "pnpm"],
      "ai_tools": ["BMad", "Serena"]
    }
  },
  "changelog": [
    {
      "date": "2026-01-06",
      "changes": [
        "项目 AI 上下文初始化完成",
        "为 bmad-custom-src 和 .serena 模块生成 CLAUDE.md 文档",
        "更新根级 CLAUDE.md，添加变更记录和模块索引",
        "更新 Mermaid 结构图，新增配置模块链接",
        "更新 .claude/index.json，时间戳：2026-01-06T15:37:13+08:00",
        "所有模块文档已完整覆盖（8/8）"
      ]
    },
    {
      "date": "2025-12-19",
      "changes": [
        "深度扫描更新，补充编辑器、向导流程、状态管理等模块信息"
      ]
    },
    {
      "date": "2025-12-15",
      "changes": [
        "初始化项目根级文档",
        "建立模块索引和架构总览"
      ]
    }
  ],
  "next_steps": [
    "保持文档与代码同步",
    "定期更新 Sprint 状态",
    "补充缺失的测试用例",
    "完善 API 文档",
    "优化视频渲染流程",
    "实施事务性上传服务",
    "添加存储清理 Workers"
  ],
  "truncated": false,
  "scan_complete": true
}
