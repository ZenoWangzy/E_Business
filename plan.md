# E_Business Chrome DevTools æµè§ˆå™¨è‡ªåŠ¨åŒ–æµ‹è¯•æ–¹æ¡ˆ

## ğŸ“‹ æµ‹è¯•ç›®æ ‡

ä½¿ç”¨ Chrome DevTools MCP å·¥å…·æ¨¡æ‹ŸçœŸäººæ“ä½œï¼ŒéªŒè¯ E_Business å¹³å°çš„å®Œæ•´ç³»ç»Ÿ lifecycle å’Œæ‰€æœ‰ workflow stepsã€‚

**æ ¸å¿ƒç›®æ ‡**:
1. âœ… éªŒè¯ç³»ç»Ÿå®Œæ•´ lifecycle - ä»ç™»å½•åˆ°ä¸šåŠ¡æµç¨‹å®Œæˆ
2. âœ… æµ‹è¯•ç°æœ‰å·²å®ç°çš„ UI åŠŸèƒ½
3. âœ… è®¾è®¡å®Œæ•´çš„æµ‹è¯•ç”¨ä¾‹å’Œæ­¥éª¤

---

## ğŸ¯ æµ‹è¯•ç¯å¢ƒé…ç½®

```typescript
const TEST_CONFIG = {
  baseUrl: 'http://localhost:3000',
  apiBaseUrl: 'http://localhost:8000',
  testUser: {
    email: 'apitest2@ebusiness.com',
    password: 'testpass123',
  },
  workspaceId: '79fdeca4-b744-4f95-8682-83ca4460e67f',
  productId: '886734d7-66a7-49ea-b907-71b9002adf33',
  timeout: 10000,
};
```

---

## ğŸš€ ç¯å¢ƒå‡†å¤‡

### å¯åŠ¨æœåŠ¡
```bash
# å¯åŠ¨åŸºç¡€æœåŠ¡
docker-compose up -d postgres redis minio

# å¯åŠ¨åç«¯
cd backend
uvicorn app.main:app --reload --port 8000 &
celery -A app.core.celery_app worker --loglevel=info --queues=default,image_generation,video_generation &

# å¯åŠ¨å‰ç«¯
cd frontend
npm run dev &

# ç­‰å¾…æœåŠ¡å°±ç»ª
sleep 10
```

---

## ğŸ”‘ å‰ç«¯å…³é”®è·¯ç”±å’Œå…ƒç´ 

### è·¯ç”±ç»“æ„
- `/login` - ç™»å½•é¡µé¢
- `/register` - æ³¨å†Œé¡µé¢
- `/dashboard` - ä¸»ä»ªè¡¨æ¿ï¼ˆå·¥ä½œå®¤é€‰æ‹©ï¼‰
- `/workspace/[id]/products/[productId]/copy` - æ–‡æ¡ˆç”Ÿæˆ
- `/workspace/[id]/products/[productId]/video` - è§†é¢‘ç”Ÿæˆ
- `/wizard/step-2` - å“ç±»é€‰æ‹©

### å…³é”®å…ƒç´ æ ‡è¯†
**ç™»å½•é¡µé¢**:
- é‚®ç®±è¾“å…¥æ¡†: `id="email"`, placeholder="name@example.com"
- å¯†ç è¾“å…¥æ¡†: `id="password"`, placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"`
- ç™»å½•æŒ‰é’®: æ–‡æœ¬"ç™»å½•"

**å·¥ä½œå®¤å¡ç‰‡**:
- "AI è§†è§‰å·¥ä½œå®¤"
- "AI æ–‡æ¡ˆå·¥ä½œå®¤"
- "AI è§†é¢‘å·¥ä½œå®¤"

**æ–‡æ¡ˆç”Ÿæˆæ ‡ç­¾é¡µ**:
- "Titles"
- "Selling Points"
- "FAQ"
- "Descriptions"

**è¿›åº¦æ˜¾ç¤º**:
- `<progress>` å…ƒç´ 
- "GenerationProgress" ç»„ä»¶

---

## ğŸ§ª æµ‹è¯•ç”¨ä¾‹è®¾è®¡

### TC-001: ç”¨æˆ·ç™»å½•æµç¨‹

**ç›®æ ‡**: éªŒè¯ç”¨æˆ·å¯ä»¥æˆåŠŸç™»å½•å¹¶è·³è½¬åˆ° Dashboard

**æ­¥éª¤**:
1. å¯¼èˆªåˆ° `http://localhost:3000/login`
2. è·å–é¡µé¢å¿«ç…§ `take_snapshot()`
3. æŸ¥æ‰¾é‚®ç®±è¾“å…¥æ¡†ï¼ˆé€šè¿‡ `id="email"` æˆ–æ–‡æœ¬"é‚®ç®±"ï¼‰
4. å¡«å†™é‚®ç®±: `fill(uid, value="apitest2@ebusiness.com")`
5. æŸ¥æ‰¾å¯†ç è¾“å…¥æ¡†ï¼ˆé€šè¿‡ `id="password"` æˆ–æ–‡æœ¬"å¯†ç "ï¼‰
6. å¡«å†™å¯†ç : `fill(uid, value="testpass123")`
7. æŸ¥æ‰¾å¹¶ç‚¹å‡»"ç™»å½•"æŒ‰é’®: `click(uid)`
8. ç­‰å¾…é¡µé¢è·³è½¬ï¼ˆ3ç§’ï¼‰
9. éªŒè¯å½“å‰ URL åŒ…å« `/dashboard`

**é¢„æœŸç»“æœ**:
- âœ… ç™»å½•æˆåŠŸ
- âœ… è·³è½¬åˆ° `/dashboard`
- âœ… æ˜¾ç¤ºæ¬¢è¿æ¶ˆæ¯

---

### TC-002: å·¥ä½œç©ºé—´å¯¼èˆª

**ç›®æ ‡**: éªŒè¯ç”¨æˆ·å¯ä»¥çœ‹åˆ°å¹¶é€‰æ‹©ä¸åŒçš„å·¥ä½œå®¤

**æ­¥éª¤**:
1. è·å– Dashboard å¿«ç…§
2. éªŒè¯æ˜¾ç¤ºæ¬¢è¿æ¶ˆæ¯ï¼ˆ"æ¬¢è¿å›æ¥"ï¼‰
3. æŸ¥æ‰¾å·¥ä½œå®¤å¡ç‰‡ï¼ˆ"AI è§†è§‰å·¥ä½œå®¤"ã€"AI æ–‡æ¡ˆå·¥ä½œå®¤"ã€"AI è§†é¢‘å·¥ä½œå®¤"ï¼‰
4. ç‚¹å‡»"AI æ–‡æ¡ˆå·¥ä½œå®¤"å¡ç‰‡
5. ç­‰å¾…é¡µé¢åŠ è½½ï¼ˆ2ç§’ï¼‰

**é¢„æœŸç»“æœ**:
- âœ… æ˜¾ç¤º3ä¸ªå·¥ä½œå®¤å¡ç‰‡
- âœ… ç‚¹å‡»åæ­£ç¡®å¯¼èˆª

---

### TC-003: æ–‡æ¡ˆç”Ÿæˆå·¥ä½œå®¤ - æ ‡ç­¾é¡µåˆ‡æ¢

**ç›®æ ‡**: éªŒè¯æ–‡æ¡ˆç”Ÿæˆæ ‡ç­¾é¡µåŠŸèƒ½

**æ­¥éª¤**:
1. ç›´æ¥å¯¼èˆªåˆ° `/workspace/{workspaceId}/products/{productId}/copy`
2. ç­‰å¾…é¡µé¢åŠ è½½ï¼ˆ3ç§’ï¼‰
3. è·å–é¡µé¢å¿«ç…§
4. æŸ¥æ‰¾æ ‡ç­¾é¡µå…ƒç´ ï¼ˆrole="tab"ï¼‰
5. éªŒè¯4ä¸ªæ ‡ç­¾: "Titles", "Selling Points", "FAQ", "Descriptions"
6. ç‚¹å‡»"Selling Points"æ ‡ç­¾
7. ç­‰å¾…å†…å®¹æ›´æ–°ï¼ˆ1ç§’ï¼‰
8. éªŒè¯æ ‡ç­¾åˆ‡æ¢æˆåŠŸ

**é¢„æœŸç»“æœ**:
- âœ… æ˜¾ç¤º4ä¸ªæ–‡æ¡ˆç”Ÿæˆæ ‡ç­¾
- âœ… æ ‡ç­¾åˆ‡æ¢æµç•…
- âœ… å¯¹åº”å†…å®¹åŒºåŸŸæ›´æ–°

---

### TC-004: æ–‡æ¡ˆç”Ÿæˆ - è§¦å‘ç”Ÿæˆä»»åŠ¡

**ç›®æ ‡**: éªŒè¯æ–‡æ¡ˆç”ŸæˆåŠŸèƒ½

**æ­¥éª¤**:
1. åœ¨æ–‡æ¡ˆå·¥ä½œå®¤é¡µé¢
2. è·å–é¡µé¢å¿«ç…§
3. æŸ¥æ‰¾ç”ŸæˆæŒ‰é’®ï¼ˆæ–‡æœ¬åŒ…å«"ç”Ÿæˆ"ï¼‰
4. ç‚¹å‡»ç”ŸæˆæŒ‰é’®
5. ç­‰å¾…è¿›åº¦æ¡å‡ºç°ï¼ˆ2ç§’ï¼‰
6. ç›‘æ§è¿›åº¦æ›´æ–°ï¼ˆæ¯2ç§’æ£€æŸ¥ä¸€æ¬¡ï¼Œæœ€å¤š10æ¬¡ï¼‰
7. éªŒè¯è¿›åº¦ä» 0% åˆ° 100%
8. éªŒè¯ç”Ÿæˆç»“æœæ˜¾ç¤º

**é¢„æœŸç»“æœ**:
- âœ… æˆåŠŸè§¦å‘ç”Ÿæˆä»»åŠ¡
- âœ… è¿›åº¦æ¡æ­£ç¡®æ›´æ–°
- âœ… æ˜¾ç¤ºç”Ÿæˆç»“æœ

---

### TC-005: è§†é¢‘ç”Ÿæˆå·¥ä½œå®¤

**ç›®æ ‡**: éªŒè¯è§†é¢‘ç”Ÿæˆæµç¨‹ï¼ˆè„šæœ¬ + æ¸²æŸ“ï¼‰

**æ­¥éª¤**:
1. å¯¼èˆªåˆ° `/workspace/{workspaceId}/products/{productId}/video`
2. ç­‰å¾…é¡µé¢åŠ è½½ï¼ˆ3ç§’ï¼‰
3. è·å–é¡µé¢å¿«ç…§
4. éªŒè¯è§†é¢‘è®¾ç½®é¢æ¿ï¼ˆæ¨¡å¼ã€æ—¶é•¿ã€éŸ³ä¹ç­‰é€‰é¡¹ï¼‰
5. é€‰æ‹©è§†é¢‘æ¨¡å¼ï¼ˆå¦‚æœæœ‰å•é€‰æŒ‰é’®ï¼‰
6. è®¾ç½®è§†é¢‘æ—¶é•¿ï¼ˆå¦‚æœæœ‰ä¸‹æ‹‰é€‰æ‹©ï¼‰
7. æŸ¥æ‰¾å¹¶ç‚¹å‡»"ç”Ÿæˆè„šæœ¬"æŒ‰é’®
8. ç­‰å¾…è„šæœ¬ç”Ÿæˆï¼ˆ5ç§’ï¼‰
9. æŸ¥æ‰¾å¹¶ç‚¹å‡»"æ¸²æŸ“"æŒ‰é’®
10. ç›‘æ§æ¸²æŸ“è¿›åº¦ï¼ˆæ¯5ç§’æ£€æŸ¥ä¸€æ¬¡ï¼Œæœ€å¤š20æ¬¡ï¼‰
11. éªŒè¯æ¸²æŸ“å®Œæˆ

**é¢„æœŸç»“æœ**:
- âœ… è„šæœ¬ç”ŸæˆæˆåŠŸ
- âœ… è§†é¢‘æ¸²æŸ“æˆåŠŸ
- âœ… è¿›åº¦æ­£ç¡®æ›´æ–°

---

### TC-006: æ–‡ä»¶ä¸Šä¼ æµç¨‹

**ç›®æ ‡**: éªŒè¯æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½

**æ­¥éª¤**:
1. å¯¼èˆªåˆ° `/dashboard`
2. ç­‰å¾…é¡µé¢åŠ è½½ï¼ˆ2ç§’ï¼‰
3. è·å–é¡µé¢å¿«ç…§
4. æŸ¥æ‰¾ä¸Šä¼ åŒºåŸŸï¼ˆæ–‡æœ¬åŒ…å«"æ‹–æ‹½æ–‡ä»¶"ï¼‰
5. ç‚¹å‡»ä¸Šä¼ åŒºåŸŸ
6. ä½¿ç”¨ `upload_file` ä¸Šä¼ æµ‹è¯•æ–‡ä»¶
7. ç­‰å¾…ä¸Šä¼ å®Œæˆï¼ˆ3ç§’ï¼‰
8. éªŒè¯ä¸Šä¼ æˆåŠŸæ ‡å¿—

**é¢„æœŸç»“æœ**:
- âœ… æ‰¾åˆ°æ–‡ä»¶ä¸Šä¼ åŒºåŸŸ
- âœ… æ–‡ä»¶ä¸Šä¼ æˆåŠŸ
- âœ… æ˜¾ç¤ºæ–‡ä»¶é¢„è§ˆ

---

## ğŸ”§ Chrome DevTools MCP å·¥å…·ä½¿ç”¨

### æ ¸å¿ƒå·¥å…·

| å·¥å…· | ç”¨é€” |
|------|------|
| `navigate_page` | é¡µé¢å¯¼èˆª |
| `take_snapshot` | è·å–é¡µé¢å¯è®¿é—®æ€§æ ‘ï¼ˆå« uidï¼‰ |
| `click` | ç‚¹å‡»å…ƒç´  |
| `fill` | å¡«å†™è¡¨å• |
| `fill_form` | æ‰¹é‡è¡¨å•å¡«å…… |
| `take_screenshot` | æˆªå›¾ä¿å­˜ |
| `wait_for` | ç­‰å¾…æ–‡æœ¬å‡ºç° |
| `list_network_requests` | ç›‘æ§ç½‘ç»œè¯·æ±‚ |

### åŠ¨æ€å…ƒç´ å‘ç°ç­–ç•¥

**æ ¸å¿ƒåŸåˆ™**: é¿å…ç¡¬ç¼–ç å…ƒç´  IDï¼Œä½¿ç”¨**æ–‡æœ¬å†…å®¹ + å¿«ç…§å‘ç°**

```typescript
// æ¯æ¬¡æ“ä½œå‰è·å–å¿«ç…§
const snapshot = await take_snapshot();

// é€šè¿‡æ–‡æœ¬æˆ–å±æ€§æŸ¥æ‰¾å…ƒç´ 
const element = snapshot.elements.find(el =>
  el.text?.includes('ç™»å½•') ||
  el.attributes?.['id'] === 'email'
);

// ä½¿ç”¨æ‰¾åˆ°çš„ uid è¿›è¡Œäº¤äº’
await click({ uid: element.uid });
```

---

## âœ… å…³é”®éªŒè¯ç‚¹

### 1. é¡µé¢åŠ è½½å’Œå¯¼èˆª
- URL éªŒè¯ï¼šä½¿ç”¨ `evaluate_script('() => window.location.href')`
- é¡µé¢æ ‡é¢˜ï¼š`evaluate_script('() => document.title')`
- é¡µé¢å†…å®¹ï¼š`take_snapshot()` + æ–‡æœ¬æœç´¢

### 2. è¡¨å•æäº¤å’Œ API è°ƒç”¨
- ç›‘æ§ç½‘ç»œè¯·æ±‚ï¼š`list_network_requests()`
- æ£€æŸ¥ API ç«¯ç‚¹
- éªŒè¯çŠ¶æ€ç ï¼ˆ200-299ï¼‰

### 3. è¿›åº¦æ›´æ–°å’Œå®ŒæˆçŠ¶æ€
- æŸ¥æ‰¾ progressbar å…ƒç´ 
- è§£æè¿›åº¦å€¼ï¼ˆ%ï¼‰
- éªŒè¯å®ŒæˆçŠ¶æ€

### 4. ç»“æœå±•ç¤º
- éªŒè¯ç»“æœåŒºåŸŸä¸ä¸ºç©º
- æ£€æŸ¥ç”Ÿæˆçš„å†…å®¹æ˜¾ç¤º
- æˆªå›¾ä¿å­˜ç»“æœ

### 5. ç§¯åˆ†/é…é¢æ‰£å‡
- æ£€æŸ¥é¡µé¢ä¸Šçš„ç§¯åˆ†æ˜¾ç¤º
- æˆ–é€šè¿‡ API æŸ¥è¯¢å½“å‰ç§¯åˆ†

---

## ğŸ“ å…³é”®æ–‡ä»¶è·¯å¾„

### å‰ç«¯ç»„ä»¶ï¼ˆç”¨äºç†è§£å…ƒç´ ç»“æ„ï¼‰
- `/frontend/src/app/(auth)/login/page.tsx` - ç™»å½•é¡µé¢
- `/frontend/src/components/auth/login-form.tsx` - ç™»å½•è¡¨å•
- `/frontend/src/components/business/copy/CopyStudioLayout.tsx` - æ–‡æ¡ˆå·¥ä½œå®¤å¸ƒå±€
- `/frontend/src/components/business/copy/CopyGeneratorTabs.tsx` - æ–‡æ¡ˆæ ‡ç­¾é¡µ
- `/frontend/src/components/business/video/VideoStudioLayout.tsx` - è§†é¢‘å·¥ä½œå®¤å¸ƒå±€
- `/frontend/src/components/business/SmartDropzone.tsx` - æ–‡ä»¶ä¸Šä¼ ç»„ä»¶

### æµ‹è¯•è„šæœ¬ä½ç½®ï¼ˆå¾…åˆ›å»ºï¼‰
- `/backend/scripts/test-chrome-devtools.py` - Chrome DevTools æµ‹è¯•è„šæœ¬

---

## ğŸš€ æ‰§è¡Œæ­¥éª¤

### Phase 1: ç¯å¢ƒå‡†å¤‡
```bash
# å¯åŠ¨åŸºç¡€æœåŠ¡
docker-compose up -d postgres redis minio

# å¯åŠ¨åç«¯
cd backend
uvicorn app.main:app --reload --port 8000 &
celery -A app.core.celery_app worker --loglevel=info --queues=default,image_generation,video_generation &

# å¯åŠ¨å‰ç«¯
cd frontend
npm run dev &

# ç­‰å¾…æœåŠ¡å°±ç»ª
sleep 10
```

### Phase 2: æ‰§è¡Œæµ‹è¯•
1. å¯åŠ¨ Chrome DevTools MCP æœåŠ¡
2. æŒ‰ç…§æµ‹è¯•ç”¨ä¾‹é¡ºåºæ‰§è¡Œ
3. æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹å®Œæˆåæˆªå›¾ä¿å­˜
4. è®°å½•æµ‹è¯•ç»“æœ

### Phase 3: ç»“æœéªŒè¯
- æ£€æŸ¥æ‰€æœ‰æµ‹è¯•æ˜¯å¦é€šè¿‡
- åˆ†æå¤±è´¥åŸå› 
- ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### åŠ¨æ€é€‚é…
- å‰ç«¯å¯èƒ½è¿˜åœ¨å¼€å‘ä¸­ï¼Œå…ƒç´ ç»“æ„ä¼šå˜åŒ–
- ä¼˜å…ˆä½¿ç”¨**æ–‡æœ¬å†…å®¹**å®šä½å…ƒç´ 
- ä½¿ç”¨**å¤šå±‚æŸ¥æ‰¾ç­–ç•¥**ï¼ˆæ–‡æœ¬ â†’ aria-label â†’ roleï¼‰

### é¿å…ä¾èµ– uid
- uid æ˜¯åŠ¨æ€ç”Ÿæˆçš„ï¼Œæ¯æ¬¡é¡µé¢åŠ è½½å¯èƒ½ä¸åŒ
- æ¯æ¬¡æ“ä½œå‰é‡æ–°è·å–å¿«ç…§
- ç«‹å³ä½¿ç”¨æ‰¾åˆ°çš„ uid

### Workflow å®Œæ•´æ€§ä¼˜å…ˆ
- é‡ç‚¹éªŒè¯ä¸šåŠ¡æµç¨‹çš„å®Œæ•´æ€§
- ä¸è¦çº ç»“äºå…·ä½“çš„å…ƒç´ é€‰æ‹©å™¨
- ç¡®ä¿æ¯ä¸ªå…³é”®æ­¥éª¤éƒ½èƒ½æˆåŠŸæ‰§è¡Œ

### é”™è¯¯å¤„ç†
- å¤±è´¥æ—¶æˆªå›¾ä¿å­˜
- è®°å½•é¡µé¢å¿«ç…§
- ä¿å­˜ç½‘ç»œè¯·æ±‚æ—¥å¿—
- ä¿å­˜æ§åˆ¶å°æ—¥å¿—

---

## ğŸ“Š æµ‹è¯•è¦†ç›–èŒƒå›´

| åŠŸèƒ½æ¨¡å— | æµ‹è¯•ç”¨ä¾‹æ•° | å…³é”®éªŒè¯ç‚¹ |
|---------|-----------|-----------|
| ç”¨æˆ·è®¤è¯ | 1 | ç™»å½•ã€è·³è½¬ã€æ¬¢è¿æ¶ˆæ¯ |
| å·¥ä½œç©ºé—´å¯¼èˆª | 1 | å·¥ä½œå®¤å¡ç‰‡æ˜¾ç¤ºã€ç‚¹å‡»å“åº” |
| æ–‡æ¡ˆç”Ÿæˆ | 2 | æ ‡ç­¾é¡µåˆ‡æ¢ã€ç”Ÿæˆè§¦å‘ã€è¿›åº¦æ›´æ–° |
| è§†é¢‘ç”Ÿæˆ | 1 | è„šæœ¬ç”Ÿæˆã€æ¸²æŸ“è§¦å‘ã€è¿›åº¦ç›‘æ§ |
| æ–‡ä»¶ä¸Šä¼  | 1 | ä¸Šä¼ åŒºåŸŸã€æ–‡ä»¶é€‰æ‹©ã€ä¸Šä¼ æˆåŠŸ |

---

## ğŸ¬ ä¸‹ä¸€æ­¥

1. **åˆ›å»ºæµ‹è¯•è„šæœ¬** - ç¼–å†™ Chrome DevTools MCP è°ƒç”¨è„šæœ¬
2. **æ‰§è¡Œæµ‹è¯•** - æŒ‰ç…§æµ‹è¯•ç”¨ä¾‹æ‰§è¡Œå®Œæ•´æµ‹è¯•
3. **ç”ŸæˆæŠ¥å‘Š** - è®°å½•æµ‹è¯•ç»“æœå’Œæˆªå›¾
4. **ä¿®å¤é—®é¢˜** - æ ¹æ®æµ‹è¯•ç»“æœä¿®å¤å‘ç°çš„é—®é¢˜

---
